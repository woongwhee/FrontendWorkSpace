<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체1</title>
    <style>
        .area{
            background-color:lightgray;
            border : 1px solid black;
        }
        .small{
            height:200px;
        }
        .big{
            height: 400px;
        }
    </style>
</head>
<body>
    <h1>객체</h1>

    <h3>* 객체 선언 및 호출</h3>
    <p>
        객체는 중괄호 {}를 사용해서 생성하고,<br>
        중괄호 안에 이 객체에 필요로 하는 속성들을 정의함<br>
        속성 : 속성값의 형태로 정의함(키:밸류) <br>
        속성값으로는 모든 자료형의 값을 담을수 있음.
    </p>
    <pre>
        let 변수명 = {
            속성명 : 속성값,
            속성명 : 속성값,
            속성명 : 속성값,
            ...
        };
    </pre>

    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area big"></div>

    <script>
        function test1(){
            let arr = ["망고",5000,"피클",["망고","피클"]];
            // 자바스크립트에서의 배열 == 자바의 컬렉션과 유사

            let product = {
                pName : "망고",
                "product price" : 5000,
                kind  : "열대과일",
                ingredient : ["망고","설탕"]
            };
            // 자바스크립트에서 객체 == 자바로 따지면 컬렉션(HashMap)
            //let map = new Map();
            //let set = new Set();
            //let obj = new Object();// == {}괄호로 객체 생성한것과 100% 동일함.

            console.log(product);
            console.log(typeof(product));

            let area1 = document.querySelector("#area1");
            area1.innerHTML += "product : "+product+"<br>";
            // product : [object Object] 로 출력된다.

            // 해당 객체에 접근하는 방법
            // 방법1. 대괄호 이용 방법 : 객체명["속성명"]
            area1.innerHTML += "<b>방법1. 객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML += "product['pName'] : "+product['pName'] +"<br>";
            area1.innerHTML += "product['product price'] : "+product['product price'] +"<br>";
            area1.innerHTML += "product['kind'] : "+product['kind'] +"<br>";
            area1.innerHTML += "product['ingredient'] : "+product['ingredient'] +"<br>";
            area1.innerHTML += "product['ingredient'][0] : "+product['ingredient'][0] +"<br>";

            // 방법2. .을 이용하는 방법 : 객체명.속성명
            area1.innerHTML += "<b>방법2. 객체명.속성명으로 접근하기</b><br>";
            area1.innerHTML += "product.pName : "+product.pName +"<br>";
            area1.innerHTML += "product['product price'] : "+product['product price'] +"<br>";
            area1.innerHTML += "product.kind : "+product.kind +"<br>";
            area1.innerHTML += "product.ingredient : "+product.ingredient +"<br>";
            area1.innerHTML += "product.ingredient[0] : "+product.ingredient[0] +"<br>";
        }

    </script>

    <hr>

    <h3>* 객체 생성 특이케이스(속성명 제시시 반드시 문자열 형태로
        제시해야하는 케이스)
    </h3>

    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area small"></div>

    <script>
        function test2(){
            // 속성명 제시시 공백이나 특수문자가 포함될 경우
            //반드시! 문자열 형태로 제시해야 한다.

            let user ={
                "user name" : "민경민",
                "user_id" : "alsrudals",
                "+" : function (a, b){
                    return a+ b;
                }
            };

            //공백이나 특수문자가 포함된 특수한 속성값에 접근하고자 한다면
            //반드시 ['속성명']을 이용!

            let area2 = document.querySelector("#area2");

            area2.innerHTML += "user name : " +user["user name"]+"<br>";
            area2.innerHTML += "  user_id : " +user["user_id"]+"<br>";
        }
    </script>

    <h3>* 객체에서의 반복문</h3>
    <p>
        객체가 가지고 있는 모~든 속성들에 순차적으로 접근하고자 한다면 반복문 제시<br>
        단, 단순 for loop문으로는 사용불가능하고 for in문만 사용 가능함.
    </p>
    <button onclick="test3()">실행확인</button>
    <div id="area3" class="small area"></div>

    <script>
        function test3(){
            let area3 = document.querySelector("#area3");

            let game = {
                title:"리그오브레전드",
                price:0,
                language:"한국어지원",
                supportOs :["window32","window64"],
                service : true
            };

            //for in 반복문 사용
            for(let key in game){ // "title", "price","languate",... service
                //.을 이용하는 방법
                //['속성명']을 이용하는 방법

                area3.innerHTML += key + " : " + game[key] +"<br>";
            }
            // in 뒤에 객체 제시시
            // 반복문 돌때마다 해당 객체의 속성명들이 앞쪽의 변수(key)에 담김
        }
    </script>

    <hr>

    <h3>* 객체의 메소드 속성</h3>

    <p>
        객체의 속성 중 함수 자료형인 속성을 메소드라고 부른다.
    </p>
    <button onclick="test4();">실행하기</button>
    <div id="area4" class="area small"></div>

    <script>
        function test4(){
            let area4 = document.getElementById("area4");

            let name = "민경민";

            let cat = {
                name : "코코",
                kind : "브리티쉬숏헤어",
                eat  : function (food){
                    //area4.innerHTML += "eat메서드가 호출되었습니다.";
                    //area4.innerHTML += food;

                    // 브리티쉬숏헤어인 코코가 츄르를 먹고 있어요;
                    area4.innerHTML += cat.kind +"인 "+ cat.name+"가 "+food+"를 먹고있어요.<br>";

                    // 메소드 속성내에 같은 객채 내의 속성을 호출할때는 this.을 붙여서 제시
                    area4.innerHTML += this.kind+"인 "+ name+"가 "+food+"를 먹고있어요~";
                }
            };            
            cat.eat("츄르");
        }
    </script>

    <hr>

    <h3>* in과 with 키워드 </h3>
    <p>
        in : 객체 내에 해당 속성이 있는지 확인해주는 키워드<br>
        with : 객체명 제시하는것을 생략할 수 있음(코드를 줄여주는 키워드)
    </p>

    
    이름 : <input type="text" name="" id="name"><br>
    국어 : <input type="number" name="" id="kor"> <br>
    수학 : <input type="number" name="" id="math"> <br>
    영어 : <input type="number" name="" id="eng"> <br>

    <button onclick="test5();">실행확인</button>
    <div id="area5" class="area big"></div>

    <script>
        function test5(){
            let name = document.querySelector("#name").value;
            let kor = +document.querySelector("#kor").value;
            let math = parseInt(document.querySelector("#math").value);
            let eng = Number(document.querySelector("#eng").value);

            let area5 = document.querySelector("#area5");

            let student= {
                name,
                kor,
                math,
                eng,
                /*getSum : function(){
                    return kor+math+eng;
                }*/
                //위 익명함수를 화살표함수로 변경
                getSum : () => kor+math+eng
                ,
                getAvg : function(){
                    //return (kor+math+eng) / 3;
                    return this.getSum() / 3;
                }
            }

            area5.innerHTML += "student : "+student+"<br>";
            area5.innerHTML += "sum : "+student.getSum()+"<br>";
            area5.innerHTML += "avg : "+student.getAvg()+"<br>";

            //in? 
            // "속성명" in 객체명 : 해당객체내에 해당 속성이 존재할경우 true반환 , 아니면 false반환. .?가깔끔
            area5.innerHTML += "name 속성이 있는가? " + ("name" in student) +"<br>";
            area5.innerHTML += "name 속성이 있는가? " + (student?.name) +"<br>";
            
            area5.innerHTML += "getSum 속성이 있는가 ? "+ ("getSum" in student)+"<br>";
            area5.innerHTML += "avg 속성이 있는가 ? " + ("Avg" in student) +"<br>";
            

            // with("객체명")
            // with에 추가한 객체안에있는 속성을 객체명을 제시하지않고 사용가능하다.
            with(student){
                area5.innerHTML += "학생이름 : "+ student.name +"<br>";
                area5.innerHTML += "국어점수 : "+ kor+"<br>";
                area5.innerHTML += "수학점수 : "+ student.math +"<br>";
                area5.innerHTML += "영어점수 : "+ eng+"<br>";
                area5.innerHTML += "총점 : "+getSum()+"<br>";
                area5.innerHTML += "평균 : "+getAvg()+"<br>";
            }
        }
    </script>

    <hr>

    <h3>* 객체의 속성 추가 및 제거</h3>

    <button onclick="test6();">실행확인</button>
    <div id="area6" class="area small"></div>

    <script>
        function test6(){
            let student = {};

            // 객체에 속성을 추가
            student.name = "홍길동";
            student.hobby = ["게임","영화보기"];
            student.dream = "프로게이머";
            student.age = 20;
            
            student.dream = "영화감독";

            with(student){
                address = "서울";
            }
            // with의 경우에는 속성추가가 안됨(읽기전용임.)

            console.log(student);
            let area6 = document.querySelector("#area6");
            area6.innerHTML += "student : "+student.toString()+"<br>";

            //메소드 속성추가
            student.toString = function(){
                let str = "name : "+this.name +"<br>";
                    str += "hobby : "+this.hobby+"<br>";  
                    str += "dream : "+this.dream+"<br>";
                    str += "age : "+this.age+"<br>";
                return str;
            };

            area6.innerHTML += student /*.toString()*/; 
            // 객체 출력시 항상 toString()메서드 실행됨

            // 객체의 속성제거
            delete(student.hobby);
            area6.innerHTML += student; // hobby가 undefined로 출력됨.
            console.log(student);
        }

    </script>























    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>



</body>
</html>